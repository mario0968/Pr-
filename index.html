<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Connect Trust Wallet</title>
<script src="https://cdn.jsdelivr.net/npm/@walletconnect/web3-provider@1.7.8/dist/umd/index.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/web3@1.8.2/dist/web3.min.js"></script>
</head>
<body>
  <button id="connectBtn">Connect Trust Wallet</button>
  <p id="status"></p>

<script>
  const connectBtn = document.getElementById("connectBtn");
  const status = document.getElementById("status");

  connectBtn.onclick = async () => {
    if (typeof window.ethereum !== "undefined" || window.BinanceChain) {
      const provider = new WalletConnectProvider.default({
        rpc: {
          56: "https://bsc-dataseed.binance.org/", // BSC mainnet
        },
        chainId: 56,
        qrcode: true,
      });

      try {
        await provider.enable();
        const web3 = new Web3(provider);
        const accounts = await web3.eth.getAccounts();
        status.innerText = "Wallet connected: " + accounts[0];

        provider.on("disconnect", (code, reason) => {
          status.innerText = "Disconnected from wallet";
        });
      } catch (error) {
        status.innerText = "Connection failed: " + error.message;
      }
    } else {
      status.innerText = "No wallet provider detected";
    }
  };
</script>
</body>
</html>
